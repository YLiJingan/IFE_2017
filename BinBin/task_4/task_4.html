<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>task_4</title>
  <style type="text/css">
    li{
      background-color: red;
      color:white;
      font-size: 18px;
      text-align: center;
      display:inline;
      padding: 10px;
      line-height: 30px;
      margin:5px;
    }
  </style>
</head>
<body>
  <input type="text" name="num" id="num">
  <input type="button" name="left_push" class="btn" value="左侧入">
  <input type="button" name="right_push" class="btn" value="右侧入">
  <input type="button" name="left_pop" class="btn" value="左侧出">
  <input type="button" name="right_pop" class="btn" value="右侧出">
  <ul id="num_group"> 

  </ul>
  <script type="text/javascript">
    var inp_num = document.getElementById("num");
    var num_group = document.getElementById("num_group");
    var left_push = document.getElementsByTagName("input")[1];
    var right_push = document.getElementsByTagName("input")[2];
    var left_pop = document.getElementsByTagName("input")[3];
    var right_pop = document.getElementsByTagName("input")[4];
    /*插入操作*/
    function insert(dir){
      if(inp_num.value == ""){
        inp_num.focus();
        alert("请输入插入的值!");
      }
      else if(isNaN(inp_num.value)){
        alert("请输入一个数字!");
        inp_num.value = "";
        inp_num.focus();
      }else {
        var li =document.createElement("li");
        li.innerHTML = inp_num.value;
        if(dir == "left"){
          num_group.insertBefore(li,num_group.firstChild);
        }
        else if(dir == "right"){
          li.innerHTML = inp_num.value;
          num_group.append(li);
        }
      }
    }
    /*删除操作*/
    function pop(dir){
      if(num_group.childNodes.length<0){
        alert("没有内容可以删除!");
        return false;
      }
      else{
        if(dir == "left"){
          num_group.removeChild(num_group.firstChild);
        }
        else if(dir == "right"){
          num_group.removeChild(num_group.lastChild);
        }
        else{
          return false;
        }
      }
    }
    window.onload = function(){
     /* left_push.addEventListener("click",insert("left"),false);     //为什么直接有alert弹出
      right_push.addEventListener("click",insert("right"),false);*/
      left_push.onclick = function(){
        insert("left");
      };
      right_push.onclick = function(){
        insert("right");
      };
      left_pop.onclick = function(){
        pop("left");
      };
      right_pop.onclick = function(){
        pop("right");
      };
    }()
  </script>
</body>
</html>